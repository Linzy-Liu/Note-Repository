\documentclass{ctexbook}
\usepackage{amsmath, amsthm, amssymb, mathrsfs,anyfontsize}

\begin{document}

\theoremstyle{definition} 
\newtheorem{define}{Def}[section]

\theoremstyle{plain} 
\newtheorem{thm}{Theorem}[section] \newtheorem{lema}{Lemma} \newtheorem{cor}{Corollary}
\newtheorem{prop}{Property} \newtheorem{fact}{Fact} 

%\frontmatter
%\tableofcontents

\mainmatter
\chapter{Measure Theory}

\section{Set Theory}

Before presenting our ideas, we should give some notations here as a standard.
\begin{define}[point]
    A \textbf{point} $x \in \mathbb{R}^n$ consists of n-tuple of real numbers,
    \[x=(x_1,x_2,\ldots,x_n),\quad x_i \in \mathbb{R}^n \text{ for } i=1,2,\ldots,n\]
\end{define}
\begin{define}[norm]
    The \textbf{norm} of $x$ is denoted by $\left|x\right|$ and is defined to be the standard Euclidean norm given by 
    \[\left|x\right|:=(\sum\limits^n_{i=1}x_i^2)^{1/2}\]
\end{define}
\begin{define}[complement]
    The \textbf{complement} of a set $E$ in $\mathbb{R}^n$ is denoted by $E^c$ and defined by 
    \[E^c:=\{x\in \mathbb{R}^n:\, x \notin E\}\]
    And the \textbf{complement} of $F$ in $E$ is denoted by 
    \[E-F:=\{x \in E:\, x \notin F\}\]
    assuming $E$ and $F$ are the subsets of $\mathbb{R}^n$
\end{define}
\begin{define}[distance between sets]
    Let $E$ and $F$ be the subsets of $\mathbb{R}^n$, we define the distance between $E$ and $F$ by 
    \[d(E,F):=\inf\limits_{x\in E, y\in F}\left|x-y\right|\] 
\end{define}
\begin{define}
    An open ball centered at $x$ and of radius $r$ is denoted by 
    \[B_r(x):=\{y\in \mathbf{R}^n:\, \left|x-y\right|<r\}\]
\end{define}
\begin{define}[open set and close set]
    A set $E \subset \mathbf{R}^n$ is \textbf{open} if for every $x$ in $E$, there exists $r>0$ with $B_r(x) \subset E$
    On the contrary, a set $E \subset \mathbf{R}^n$ is \textbf{closed} if it's complement is open
\end{define}
\begin{define}[compact set]
    A set is \textbf{bounded} if the set can be contained in some open balls with finite radius.
    And a bounded set is \textbf{compact} if the set is also closed, which holds the \textit{Heine-Borel~covering~property} 
\end{define}
\begin{define}[perfect set]
    A point $x\in \mathbb{R}^n$ is a \textbf{limit~point} of set $E$ if for every $r>0$, the ball $B_r(x)$ contains the point of
    E.
    If there is a point $x \in E$ such that there exists $r>0$ where $B_r(x)\cap E$ equals to $\{x\}$, we call it an \textbf{isolated~point}.
    A close set is \textbf{perfect} if there're no isolateted points in it.  
\end{define}
\begin{define}[rectangles]
    A \textbf{close rectangle} $R$ in $\mathbb{R}^n$ is given by taking the product of one-dimensional closed and bounded intervals.
    \[R:=[a_1,b_1]\times\ldots\times[a_n,b_n]\]
    where $a_i\leq b_i$ are real numbers, for $i=1,2,\ldots,n$\\
    The \textbf{volume} of rectangles R is denoted by $\left|R\right|$, which is defined to be 
    \[\left|R\right|:=\prod\limits_{i=1}^n(b_i-a_i)\]
\end{define}

The main idea in building the measure theory consists of measuring a subset of $\mathbb{R}^n$ properly. However, the property of
a subset of $\mathbb{R}^n$ can be extremely ambuguous. Hence, the core of approximating the "volume" of most of subsets in $\mathbb{R}^n$
lay in the rectangles, which can be manipulated easily and has a standard notion of volume that is given by taking the product of
length of all sides. Such claim is guaranteed by the theorems below.

\begin{lema}
    If a rectangle $R$ is the almost disjoint union of finitely many rectangles, say $R = \bigcup \limits_{i=1}^N R_i$, then
    \[\left|R\right|=\sum\limits_{i=1}^N \left|R_i\right|\]
\end{lema}
\begin{lema}
    If $R,R_1,R_2,\ldots,R_N$ are rectangles, and $R \subset \bigcup \limits_{i=1}^N R_i$, then
    \[\left|R\right|\leq\sum\limits_{i=1}^N \left|R_i\right|\]
\end{lema}

\begin{thm}
    Every open subset $\mathcal{O}$ of $\mathbb{R}$ can be uniquely written as a countable union of disjoint open intervals.
\end{thm}
\begin{thm}
    Every open subset $\mathcal{O}$ of $\mathbb{R}^n (n\geq 1)$ can be written as a countable union of almost disjoint closed
    rectangles. (A countable union is said to be \textbf{almost~disjoint} only if the interiors of the sets are disjoint.)
\end{thm}
\begin{fact}[Cantor Set]
    Let $\mathcal{C} $ denote the Cantor Set, then:
    \begin{enumerate}
        \item $\mathcal{C} $ is a compact set.
        \item $\mathcal{C} $ is perfect.
        \item $\mathcal{C} $ has the cardinality of continuum, which implies $\,\overline{\overline{\mathcal{C}}} = \aleph$
    \end{enumerate}
\end{fact}

\section{The exterior measure}

After simple introductions to our claim which says most of subset can be approximated by countable rectangles, we raise the
notion of an intuitive measure 

\begin{define}[exterior measure]
    If $E$ is any subset of $\mathbb{R}^n$, the \textbf{exterior~measure} of $E$ is given by
    \[m^*(E)=\inf\sum\limits_{k=1}^{\infty}\left|R_k\right|\]
    where the infimum is taken over all countable coverings $\left\{R_k\right\}_{k=1}^{\infty}$ by closed rectangles where 
    $E \subset \bigcup\limits_{k=1}^{\infty}R_k$.
\end{define}

\begin{fact}
    We try to list some trival facts here.
    \begin{enumerate}
        \item Let $Q$ denote a closed cube, then we have $m^*(Q) = \left\lvert Q\right\rvert $
        \item If $Q$ is an open cube, the result $m^*(Q) = \left\lvert Q\right\rvert $ still holds.
        \item The exterior measure of a rectangle $R$ equals to its volume.
        \item The exterior measure of $\mathbb{R}^n$ is infinite.
        \item Let $\mathcal{C} $ denote the Cantor Set, then $m^*(\mathcal{C})=0$
    \end{enumerate}
\end{fact}

Before giving the property of exterior measure, we should point out a remark that could be generated from the facts above
immediately: 
For every $\epsilon>0$,there exists a covering $E \subset \bigcup\limits_{k=1}^{\infty}Q_k$ with
\[\sum\limits_{k=1}^{\infty}m^*(Q_k) \leq m^*(E)+\epsilon\]

\begin{prop}[Monotonicity]
    If $E_1 \subset E_2$, then \[m^*(E_1) \leq M^*(E_2)\]
\end{prop}

\begin{prop}[Countable Sub-additivity]
    If $E \subset \bigcup\limits_{k=1}^{\infty}E_k$, then \[m^*(E) \leq \sum\limits_{k=1}^{\infty}m^*(E_k)\]
\end{prop}

\begin{prop}
    \label{sec exterior measure:open set}
    If $E \subset \mathbb{R}^n$, \[m^*(E) = \inf m^*(\mathcal{O} )\], where $\mathcal{O} $ is taken over all open sets
    that contains $E$.
\end{prop}

\begin{prop}
    If $E=E_1\bigcup E_2$, and $d(E_1,E_2) > 0$, then \[m^*(E) = m^*(E_1)+m^*(E_2)\]
\end{prop}

\begin{prop}
    If $E$ is a countable union of almost disjoint cubes $E = \bigcup\limits_{k=1}^{\infty}E_k$, then
    \[m^*(E)=\sum\limits_{k=1}^{\infty}m^*(E_k)\]
\end{prop}

\section{Lebesgue Measure}

Before we formally introduce the notion of measure, we need to have an essential recall on the measure we are looking for:
\begin{enumerate}
    \item The measure $m$ should be a non-negative function defined on the family of subsets $E$ of $\mathbb{R}^n$ that we allow to be extended-value
    \item $m(E)=b-a$ if $E$ is the interval $\left[a,b\right] $ with $a \leq b$
    \item $m(E) = \sum\limits_{n=1}^{\infty}m(E_n)$ whenever $E = \bigcup\limits_{n=1}^{\infty}m(E_n)$ and $\left\{E_n\right\}_{n=1}^{\infty}$ are disjoint. (Namely, $m$ satisfies countable additivity)
    \item Let $E+h$ denote $\left\{x+h:\, x \in E\right\}$, then $m(E+h)=m(E)$ for every $h \in \mathbb{R}^n$
\end{enumerate}

According to the facts above, we can see that the exterior~measure has sactisfied the previous two properties and sub-additivity.
We'll claim that in a certain family of subsets of $\mathbb{R}^n$, the exterior~measure can obtain the property of countable
additivity. Such measure will be illustrated below:

\begin{define}[Lebesgue Measure]
    A subset $E$ of $\mathbb{R}^n$ is \textbf{Lebesgue~measurable}, or simply \textbf{measurable}, if for any $\epsilon>0$,
    there exists an open set $\mathcal{O} $ with $E \subset \mathcal{O} $ and 
    \[m^*(\mathcal{O} - E) < \epsilon\]
    If $E$ is measurable, we define its \textbf{Lebesgue~measure} by \[m(E)=m^*(E)\]
\end{define}
Clearly, the Lebesgue~measure inherited all the properties from the exterior measure. To discover the nature of measurable,
we could compare the definition of measurable with Property 3 in page \pageref{sec exterior measure:open set}

\begin{prop}
    Every open set in $\mathbb{R}^n$ are measurable.
\end{prop}
\begin{prop}
    If $m^*(E)=0$, then $E$ is measurable. In particular, if $F$ is a subset of a set of exterior measure 0, then $F$ is measurable.
\end{prop}
\begin{prop}
    A countable union of measurable sets is measurable.
\end{prop}
\begin{lema}
    If $F$ is closed and $K$ is compact, and these sets are disjoint, then $d(K,F)>0$
\end{lema}
\noindent What if switch the condition to "two disjoint closed sets"?
\begin{prop}
    Closed sets are measurable.
\end{prop}
\begin{prop}
    The complement of a measurable set is measurable.
\end{prop}
In conclusion, we found many familiar sets in the family of measurable sets, including open sets, closed sets and compact sets,
which are easy to manipulate. More specifically, we can conclude that the family of measurable sets is a $\sigma-$algerbra proven
by Property 8 and Property 10.

\subsection*{The properties of Lebesgue~measure}

Apart from the properties inherited from exterior measure, the notion of measurable provides us more ``good'' properties
for many opreations such as limit opreation, additivity etc. 

\begin{thm}
    If $E_1,E_2,\ldots$ are disjoint measurable sets, and $E = \bigcup\limits_{n=1}^{\infty}E_n$, then
    \[m(E)=\sum\limits_{n=1}^{\infty}m(E_n)\]
\end{thm}

\begin{define}[the limit of sets]
    If $E_1,E_2,\ldots$ is a countable collection of subsets of $\mathbb{R}^n$ that increases to $E$ in the sense that
    $E_k \subset E_{k+1}$ for all $k \in \mathbb{N}^*$ and $E = \bigcup\limits_{k=1}^\infty E_k$, then we write 
    $E_k \nearrow E$ or $E_k \uparrow E$ or \[\lim \limits_{k\rightarrow \infty}E_k = E\]
    Similarly, if $E_1,E_2,\ldots$ decreases to $E$ in the senese that $E_{k+1} \subset E_k$ for all $k \in \mathbb{N}^*$
    and $E = \bigcap\limits_{k=1}^{\infty}E_k$, then we write 
    $E_k \searrow E$ or $E_k \downarrow E$ or \[\lim \limits_{k\rightarrow \infty}E_k = E\]
\end{define}

\begin{define}[The upper limit and lower limit of sets]
    Let $E_1, E_2,\ldots$ be a countable collection of subsets of $\mathbb{R}^n$. Then we denote the \textbf{upper~limit} of the
    collection as \[\varlimsup \limits_{k \rightarrow \infty} E_k := \bigcap\limits_{k=1}^\infty\bigcup\limits_{n=k}^\infty E_k \]
    define the \textbf{lower~limit} as
    \[\varliminf \limits_{k \rightarrow \infty} E_k := \bigcup\limits_{k=1}^\infty\bigcap\limits_{n=k}^\infty E_k \]
\end{define}

\begin{cor}[The continuity of Lebesgue~measure]
    Suppose $E_1,E_2,\ldots$ is a countable collection of measurable sets in $\mathbb{R}^n$,
    \begin{enumerate}
        \item If $E_k \uparrow E$, then $m(E)=\lim\limits_{k \rightarrow \infty} m(E_k)$
        \item If $E_k \downarrow E$ and $m(E_1)<\infty$, then $m(E) = \lim\limits_{k \rightarrow \infty} m(E_k)$
    \end{enumerate}
\end{cor}

To provide a rather important geometric and analytic insight into the nature of measurable sets, we try to list the
equivalent definitions of measurable sets below.
\begin{thm}
    Suppose $E$ is a measurable subset of $\mathbb{R}^n$, then for every $\epsilon>0$,
    \begin{enumerate}
        \item There exists an open set $\mathcal{O}$ with $E \subset \mathbb{O}$, and $m^*(\mathcal{O} - E) < \epsilon$
        \item There exists a closed set $F$ with $F \subset E$, and $m^*(E-F)<\epsilon$
        \item If $m(E)$ is finite, there exists a compact set $K$ with $K \subset E$ and $m^*(E-K) < \epsilon$
        \item If $m(E)$ is finite, there exists a finite union $F=\bigcup\limits_{j=1}^N Q_j$ of closed cubes such that \[m^*(E\triangle F)<\epsilon\]
    \end{enumerate}
\end{thm}
\begin{thm}[\textbf{Caratheodory's~Criterion}]
    Suppose $E$ is a subset of $\mathbb{R}^n$, if for every $A\subset \mathbb{R}^n$, the inequation
    \[m^*(A) \geq m^*(A\cap E)+m^*(A\cap E^c)\]
    holds, then we could confirm that $E$ is a measurable set.
\end{thm}

\begin{thm}[Invariance properties]
    Suppose $E$ is a subset of $\mathbb{R}^n $ and $h,\delta \in \mathbb{R}$. Let $E+h$ denote $\left\{x+h:\, x\in E\right\}$, and
    $\delta E$ denote $\left\{\delta x:\, x\in E\right\} $, then
    \begin{enumerate}
        \item \textbf{Translation~invariance} If $E$ is measurable, for any real number $h$, $E+h$ is measurable and $m(E) = m(E+h)$
        \item \textbf{Reflection~invariance} If $E$ is measurable, $-E$ is measurable and $m(-E) = m(E)$
        \item \textbf{Dialation~invariance} If $E$ is measurable, $\delta E$ is measurable and $m(\delta E) = \left\lvert\delta \right\rvert^nm(E)$
    \end{enumerate}
\end{thm}

\subsection*{Borel~sets and non-measurable sets}

We have illustrated that the core of measure theory is to approximate most of subsets of $\mathbb{R}^n$ with simple sets which
can be manipulated easily. In fact, the process of approximating is mainly about combining the simple sets together with basic
operations for sets. Hence we want to figure out the structure of the collection of sets that is closed under all basic opreations
for sets. At the same time, we know that all open sets can be uniquely written as a countable union of closed rectangles, which
implies that open set is also a kind of simple sets.    

\begin{define}[$\sigma$-algerbra]
    Assume $\mathscr{A}$ is a collection of subsets of $X$, if:
    \begin{enumerate}
        \item $\varnothing \in \mathscr{A}$
        \item for every $A \in \mathscr{A}$, $A^c \in \mathscr{A}$
        \item if $A_1,A_2,\ldots$ is a countable list of sets in $\mathscr{A}$, $\bigcup\limits_{k=1}^\infty A_k \in \mathscr{A}$
    \end{enumerate}
    then we define $\mathscr{A}$ as a \textbf{$\sigma$-algerbra}

    Suppose there is a collection of sets $F$. If a $\sigma$-algerbra with $F \subset \mathscr{A}$ is the ``smallest'' $\sigma$-algerbra
    which contains every set in $F$, such $\sigma$-algerbra is denoted by $\sigma(F)$ and is called \textbf{the $\sigma$-algerbra generated by $F$} 
\end{define}

\begin{define}[Borel~set]
    Let $\mathcal{O} $ denote the collection of all open sets in $\mathbb{R}^n $, then the \textbf{Borel~set} is defined by
    $\mathscr{B}(\mathbb{R}^n) = \sigma(\mathcal{O})$ 
\end{define}

Although Borel~sets has many good properties---It is a collection of set totally generated by simple sets, the Borel set
is a subset of the collection of Lebesgue measurable sets, say, there exists a Lebesgue measurable set that is not contained
in the Borel set. From the point of view of the Borel sets, the Lebesgue sets arise as the completion of the $\sigma$-algebra
of Borel sets, that is, by adjoining all subsets of Borel sets of measure zero.

To state the view above, we try to list two trival kind of sets in Borel set.The first one is the countable intersections of
open sets, denoted by $G_{\delta}$. The second one is the complement of the first one, which can be seen as the countable union
of closed sets, denoted by $F_{\sigma}$. Then we have the corollary below.

\begin{cor}
    A subset $E$ of $\mathbb{R}^n $ is measurable if and only if:
    \begin{enumerate}
        \item $E$ differs from a $G_{\delta}$ by a set of measure zero.
        \item $E$ differs from an $F_{\sigma}$ by a set of measure zero.
    \end{enumerate}  
\end{cor}

Then, we try to construct a non-measurable set. This example will show the reason of why we can not set up a measure theory
for all sets in $\mathscr{P}(\mathbb{R}^n)$.

Such example lays on \textbf{axiom of choice}:
\begin{fact}
    We define a binary ralation $x\sim y:$ x-y is rational. Obviously, we can find that such binary relation is an equivalence
    relation. Therefore, we have equivalence class in section $[0,1]$: $\left\{\bar{x}\right\} $ for all $x$ in $[0,1]$. Such
    equivalence classes will be either disjoint or coincide, and we have $[0,1]=\cup_{x \in [0,1]}\bar{x}$. Now we
    choose one $x_\alpha$ from each $\bar{x}$, and let $\mathscr{N}$ denote the set $\left\{x_\alpha\right\}$, then we will see
    the fact---The set $\mathscr{N}$ is not measurable.
\end{fact}

\section{measurable~functions}



\end{document}